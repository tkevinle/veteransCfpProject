{
   "owner": "TLE",
   "codePut": null,
   "codeDelete": null,
   "virtualDomainRoles": [
      {
         "allowDelete": true,
         "allowPost": true,
         "allowPut": true,
         "roleName": "ADMIN-GPBADMN",
         "allowGet": true
      },
      {
         "allowDelete": true,
         "allowPost": true,
         "allowPut": true,
         "roleName": "ALLROLES",
         "allowGet": true
      }
   ],
   "codeGet": "select\r\n    rowidtochar(spriden.rowid) \"id\",\r\n    to_char(sysdate,'MM/DD/YYYY') today,\r\n    robinst_aidy_code,\r\n    robinst_aidy_desc,\r\n    spriden_first_name first_name,\r\n    spriden_last_name last_name,\r\n    spriden_id student_id,\r\n    start_year,\r\n    end_year,\r\n    to_char(floor(nvl(tuition,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') tuition,\r\n    to_char(floor(nvl(room_board,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') room_board,\r\n    to_char(floor(nvl(books_supplies,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') books_supplies,\r\n    to_char(floor(nvl(transportation,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') transportation,\r\n    to_char(floor(nvl(other,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') other,\r\n    to_char(floor(nvl(est_coa,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') est_coa,\r\n    to_char(floor(nvl(inst_sch,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') inst_sch,\r\n    to_char(floor(nvl(state_sch,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') state_sch,\r\n    to_char(floor(nvl(other_sch,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') other_sch,\r\n    to_char(floor(nvl(total_sch,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') total_sch,\r\n    to_char(floor(nvl(pell,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') pell,\r\n    to_char(floor(nvl(inst_grnt,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') inst_grnt,\r\n    to_char(floor(nvl(state_grnt,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') state_grnt,\r\n    to_char(floor(nvl(other_grnt,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') other_grnt,\r\n    to_char(floor(nvl(total_grnt,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') total_grnt,\r\n    rcrapp3_yr_in_coll_2,\r\n    to_char(floor(nvl(case when est_coa-nvl(total_grnt, 0)-nvl(total_sch,0) < 0 then 0 else est_coa-nvl(total_grnt, 0)-nvl(total_sch,0) end,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') net_price,\r\n    to_char(floor(nvl(case when isir.rcrapp1_infc_code = 'EDE' and rcrapp3_yr_in_coll_2 in ('0','1') then 3500 when isir.rcrapp1_infc_code = 'EDE' and rcrapp3_yr_in_coll_2 >= 2 then 4500 else 0 end,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') sub_loan,\r\n    to_char(floor(nvl(case when isir.rcrapp1_infc_code = 'EDE' and rcrapp2_model_cde = 'I' and rcrapp3_yr_in_coll_2 >= 2 then 10500  when isir.rcrapp1_infc_code = 'EDE' and rcrapp2_model_cde = 'I' and rcrapp3_yr_in_coll_2 in ('0','1') then 9500 when isir.rcrapp1_infc_code = 'EDE' and rcrapp2_model_cde = 'D' and rcrapp3_yr_in_coll_2 >= 2 then 6500 when isir.rcrapp1_infc_code = 'EDE' and rcrapp2_model_cde = 'D' and rcrapp3_yr_in_coll_2 in ('0','1') then 5500 end - case when isir.rcrapp1_infc_code = 'EDE' and rcrapp3_yr_in_coll_2 in ('0','1') then 3500 when isir.rcrapp1_infc_code = 'EDE' and rcrapp3_yr_in_coll_2 >= 2 then 4500 else 0 end,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') unsub_loan,\r\n    to_char(floor(nvl(case when isir.rcrapp1_infc_code = 'EDE' and rcrapp2_model_cde = 'I' and rcrapp3_yr_in_coll_2 >= 2 then 10500 when isir.rcrapp1_infc_code = 'EDE' and rcrapp2_model_cde = 'I' and rcrapp3_yr_in_coll_2 in ('0','1') then 9500 when isir.rcrapp1_infc_code = 'EDE' and rcrapp2_model_cde = 'D' and rcrapp3_yr_in_coll_2 >= 2 then 6500 when isir.rcrapp1_infc_code = 'EDE' and rcrapp2_model_cde = 'D' and rcrapp3_yr_in_coll_2 in ('0','1') then 5500 end,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') total_loan,\r\n    to_char(floor(nvl(case when isir.rcrapp1_infc_code = 'EDE' then 4000 else 0 end,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') work_study,\r\n    to_char(floor(nvl(floor(((case when isir.rcrapp1_infc_code = 'EDE' then 4000 else 0 end)/rjbjobt_default_pay)/30),0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') work_study_hours_wk,\r\n    to_char(floor(nvl(gzrvcfp_tuition_annual,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') tuition_benefit,\r\n    to_char(floor(nvl(gzrvcfp_housing_monthly,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') housing_allowance,\r\n    to_char(floor(nvl(gzrvcfp_book_annual,0)), '99G999G999G999', 'NLS_NUMERIC_CHARACTERS=\",.\"') book_stipend\r\nfrom spriden\r\n    join robinst on robinst_aidy_code = :parm_aidy\r\n    left join (select rcrapp1_pidm, rcrapp1_aidy_code, rcrapp1_infc_code, rcrapp2_model_cde, rcrapp3_yr_in_coll_2\r\n                from rcrapp1, rcrapp2, rcrapp3\r\n                where rcrapp1_pidm = rcrapp2_pidm\r\n                    and rcrapp1_pidm = rcrapp3_pidm\r\n                    and rcrapp1_aidy_code = rcrapp2_aidy_code\r\n                    and rcrapp1_aidy_code = rcrapp3_aidy_code\r\n                    and rcrapp1_infc_code = rcrapp2_infc_code\r\n                    and rcrapp1_infc_code = rcrapp3_infc_code\r\n                    and rcrapp1_seq_no = rcrapp2_seq_no\r\n                    and rcrapp1_seq_no = rcrapp3_seq_no\r\n                    and rcrapp1_curr_rec_ind = 'Y') isir on isir.rcrapp1_pidm = spriden_pidm\r\n        and isir.rcrapp1_aidy_code = robinst_aidy_code  \r\n    left join (select \r\n                    rprawrd_pidm,\r\n                    rprawrd_aidy_code,\r\n                    sum(case when rfrbase_fsrc_code = 'INST' and rfrbase_ftyp_code = 'SCH' then rprawrd_offer_amt end) inst_sch,\r\n                    sum(case when rfrbase_fsrc_code = 'STAT' and rfrbase_ftyp_code = 'SCH' then rprawrd_offer_amt end) state_sch,\r\n                    sum(case when rfrbase_fsrc_code not in ('INST','STAT') and rfrbase_ftyp_code = 'SCH' then rprawrd_offer_amt end) other_sch,\r\n                    sum(case when rfrbase_ftyp_code = 'GP' then rprawrd_offer_amt end) pell,\r\n                    sum(case when rfrbase_fsrc_code = 'INST' and rfrbase_ftyp_code = 'GRNT' then rprawrd_offer_amt end) inst_grnt,\r\n                    sum(case when rfrbase_fsrc_code = 'STAT' and rfrbase_ftyp_code in ('GRNT','BOG','GB','GD','GC') then rprawrd_offer_amt end) state_grnt,\r\n                    sum(case when rfrbase_fsrc_code not in ('INST','STAT') and rfrbase_ftyp_code in ('GRNT','GS') then rprawrd_offer_amt end) other_grnt,\r\n                    sum(case when rfrbase_fsrc_code = 'INST' and rfrbase_ftyp_code = 'SCH' then rprawrd_offer_amt when rfrbase_fsrc_code = 'STAT' and rfrbase_ftyp_code = 'SCH' then rprawrd_offer_amt when rfrbase_fsrc_code not in ('INST','STAT') and rfrbase_ftyp_code = 'SCH' then rprawrd_offer_amt end) total_sch,\r\n                    sum(case when rfrbase_ftyp_code = 'GP' then rprawrd_offer_amt when rfrbase_fsrc_code = 'INST' and rfrbase_ftyp_code = 'GRNT' then rprawrd_offer_amt when rfrbase_fsrc_code = 'STAT' and rfrbase_ftyp_code in ('GRNT','BOG','GB','GD','GC') then rprawrd_offer_amt when rfrbase_fsrc_code not in ('INST','STAT') and rfrbase_ftyp_code in ('GRNT','GS') then rprawrd_offer_amt end) total_grnt\r\n                from rprawrd\r\n                    join rfrbase on rfrbase_fund_code = rprawrd_fund_code\r\n                where rprawrd_offer_amt > 0\r\n                    and rprawrd_pidm = :parm_user_pidm\r\n                group by rprawrd_pidm, rprawrd_aidy_code) awd on awd.rprawrd_aidy_code = robinst_aidy_code\r\n    left join (select \r\n                    robinst_aidy_code aidy, \r\n                    robinst_aidy_start_year start_year, \r\n                    robinst_aidy_end_year end_year,\r\n                    nvl(stdnt.books_supplies, gen.books_supplies) books_supplies,\r\n                    nvl(stdnt.other, gen.personal_expenses) other,\r\n                    nvl(stdnt.room_board, gen.room_board) room_board,\r\n                    nvl(stdnt.transportation, gen.transportation) transportation,\r\n                    nvl(stdnt.tuition, gen.tuition) tuition,\r\n                    case when stdnt.estimated_coa is null then (gen.books_supplies+gen.personal_expenses+gen.room_board+gen.transportation+gen.tuition) else stdnt.estimated_coa end est_coa \r\n                from robinst\r\n                    left join (select \r\n                                    rbracmp_aidy_code,\r\n                                    sum(case when rbracmp_comp_code = 'B+S' then rbracmp_amt end) books_supplies,\r\n                                    sum(case when rbracmp_comp_code = 'FEES' then rbracmp_amt end) tuition,\r\n                                    sum(case when rbracmp_comp_code not in ('B+S','FEES','R+B','TRAN') then rbracmp_amt end) other,\r\n                                    sum(case when rbracmp_comp_code = 'R+B' then rbracmp_amt end) room_board,\r\n                                    sum(case when rbracmp_comp_code = 'TRAN' then rbracmp_amt end) transportation,\r\n                                    sum(rbracmp_amt) estimated_coa\r\n                                from rbracmp\r\n                                where rbracmp_pidm = :parm_user_pidm\r\n                                    and rbracmp_btyp_code = 'CAMP'\r\n                                group by rbracmp_aidy_code) stdnt on stdnt.rbracmp_aidy_code = robinst_aidy_code\r\n                    left join (select *\r\n                                from (\r\n                                select rbrcomp_aidy_code aidy_code, rbrcomp_comp_code, rbrcomp_amt\r\n                                from rbrcomp\r\n                                where rbrcomp_aprd_code = 'FASPR'\r\n                                    and rbrcomp_btyp_code = 'CAMP'\r\n                                    and rbrcomp_bgrp_code = 'RAWH')\r\n                                pivot (sum(rbrcomp_amt)\r\n                                    for rbrcomp_comp_code\r\n                                    in ('B+S' books_supplies,\r\n                                        'PERS' personal_expenses,\r\n                                        'R+B' room_board,\r\n                                        'TRAN' transportation,\r\n                                        'FEES' tuition)\r\n                                        )) gen on gen.aidy_code = robinst_aidy_code\r\n                ) bdgt on bdgt.aidy = :parm_aidy\r\n    left join rjbjobt on rjbjobt_code = '3591'\r\n    left join (select *\r\n                from gzrvcfp\r\n                where nvl(gzrvcfp_aidy_code, 'X') = nvl(:parm_aidy, 'X')\r\n                    and nvl(gzrvcfp_mil_status, 'X') = nvl(:parm_mil_status, 'X')\r\n                    and nvl(gzrvcfp_mil_benefit, 'X') = nvl(:parm_mil_ben, 'X')\r\n                    and nvl(gzrvcfp_mil_service, 'X') = nvl(:parm_mil_service, 'X')\r\n                    and nvl(gzrvcfp_spouse_act_duty, 'X') = nvl(:parm_spouse_act_duty, 'X')\r\n                    and nvl(gzrvcfp_ben_prior_20180101, 'X') = nvl(:parm_ben_prior, 'X')\r\n                    and nvl(gzrvcfp_compl_enlist_yrs, 0) = nvl(:parm_enlist_yrs, 0)\r\n                    and nvl(gzrvcfp_post_911_elig, 'X') = nvl(:parm_post_911_elig, 'X')\r\n                    and nvl(gzrvcfp_nbr_dependents, 0) = nvl(:parm_nbr_dependents, 0)\r\n                    ) ben_amts on ben_amts.gzrvcfp_aidy_code = :parm_aidy\r\nwhere spriden_change_ind is null\r\n    and spriden_pidm = :parm_user_pidm\r\norder by robinst_aidy_code desc",
   "typeOfCode": "S",
   "fileTimestamp": "2022-01-14T19:32:02Z",
   "serviceName": "veCfpStudentData",
   "codePost": null,
   "developerSecurity": []
}